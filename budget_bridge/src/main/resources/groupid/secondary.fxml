<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.CheckMenuItem?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.Region?>
<?import java.lang.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.textfield.*?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.collections.*?> 

<!-- Modern Landscape Budget Layout -->
<BorderPane stylesheets="@style.css" fx:controller="groupid.SecondaryController" xmlns:fx="http://javafx.com/fxml/1" styleClass="background">
   <top>
      <VBox alignment="CENTER">
         <BorderPane.margin>
            <Insets top="20" right="20" bottom="20" left="20"/>
         </BorderPane.margin>
         
         <HBox spacing="15" alignment="TOP_LEFT">
            <HBox.margin>
               <Insets top="0" right="50" bottom="0" left="50"/>
            </HBox.margin>
            <MenuBar styleClass="modern-menu-bar">
               <Menu text="â‰¡" styleClass="modern-menu">
                  <MenuItem fx:id="profileButton" text="Profile" styleClass="menu-item" onAction="#switchToProfile"/>
                  <MenuItem fx:id="logoffButton" text="Logoff" styleClass="menu-item" onAction="#logoff"/>
               </Menu>
            </MenuBar>
            <Button fx:id="dashboardButton" text="My Dashboard" styleClass="modern-nav-button" onAction="#switchToPrimary"/>
            <Button fx:id="leaderboardsButton" text="Leaderboards" styleClass="modern-nav-button" onAction="#switchToLeaderboard"/>
            <Button fx:id="budgetButton" text="Update Budget" styleClass="modern-nav-button-active" onAction="#switchToSecondary"/>
            <Button fx:id="storeButton" text="Exchange Store" styleClass="modern-nav-button" onAction="#switchToStore"/>
         </HBox>
      </VBox>
   </top>

   <left>
      <VBox alignment="TOP_LEFT" spacing="25" styleClass="income-management-panel">
         <BorderPane.margin>
            <Insets top="20" right="20" bottom="20" left="20"/>
         </BorderPane.margin>
         
         <Label text="Income Management" styleClass="panel-heading"/>
         
         <!-- Toggle button for income input -->
         <Button fx:id="addIncomeToggleButton" 
                 text="Add Income" 
                 onAction="#toggleIncomeInput" 
                 styleClass="add-button-income"/>
         
         <!-- Collapsible income input section -->
         <VBox fx:id="incomeInputSection" spacing="15" styleClass="add-section-card">

            <Label text="Add New Income" styleClass="section-title"/>

            <TextField fx:id="incomeAmountInput"
                        promptText="Amount ($)"
                        styleClass="modern-input"/>

            <HBox spacing="10" alignment="CENTER_LEFT">
                <CheckBox fx:id="incomeRecurringCheckBox" mnemonicParsing="false"/>
                <Label text="Recurring?" styleClass="section-title"/>
            </HBox>

            <VBox fx:id="incomeFreqSection" spacing="10">
                <Label text="Frequency:" styleClass="field-label"/>
                <ComboBox fx:id="incomeFreqCombo"
                         promptText="Select frequency"
                         styleClass="modern-combo"/>
            </VBox>

            <ComboBox fx:id="incomeCatCombo"
                     editable="true"
                     promptText="Income source (e.g., Salary)"
                     styleClass="modern-combo"/>

            <Button text="Save Income"
                     onAction="#addInputIncome"
                     styleClass="add-button-income"/>

         </VBox>
         
         <VBox spacing="12" VBox.vgrow="ALWAYS">
            <Label text="Current Income Sources" styleClass="section-title"/>
            <ScrollPane styleClass="list-scroll" VBox.vgrow="ALWAYS" prefHeight="400" fitToHeight="true" fitToWidth="true">
               <ListView fx:id="incomeList" styleClass="modern-list"/>
            </ScrollPane>
         </VBox>
         
      </VBox>
      <padding>
         <Insets bottom="25" left="25" right="25" top="25"/>
      </padding>
   </left>

   <right>
      <VBox alignment="TOP_LEFT" spacing="25" styleClass="expense-management-panel">
         <BorderPane.margin>
            <Insets top="20" right="20" bottom="20" left="20"/>
         </BorderPane.margin>
         
         <Label text="Expense Management" styleClass="panel-heading"/>
         
         <!-- Toggle button for expense input -->
         <Button fx:id="addExpenseToggleButton" 
                 text="Add Expense" 
                 onAction="#toggleExpenseInput" 
                 styleClass="add-button-expense"/>
         
         <!-- Collapsible expense input section -->
         <VBox fx:id="expenseInputSection" spacing="15" styleClass="add-section-card">

            <Label text="Add New Expense" styleClass="section-title"/>

            <TextField fx:id="expenseAmountInput"
                        promptText="Amount ($)"
                        styleClass="modern-input"/>

            <HBox spacing="10" alignment="CENTER_LEFT">
                <CheckBox fx:id="expenseRecurringCheckBox" mnemonicParsing="false"/>
                <Label text="Recurring?" styleClass="section-title"/>
            </HBox>

            <VBox fx:id="expenseFreqSection" spacing="10">
                <Label text="Frequency:" styleClass="field-label"/>
                <ComboBox fx:id="expenseFreqCombo"
                         promptText="Select frequency"
                         styleClass="modern-combo">
                   <items>
                         <FXCollections fx:factory="observableArrayList">
                            <String fx:value="Daily"/>
                            <String fx:value="Weekly"/>
                            <String fx:value="Monthly"/>
                         </FXCollections>
                   </items>
                </ComboBox>
            </VBox>

            <ComboBox fx:id="expenseCatCombo"
                     editable="true"
                     promptText="Category (e.g., Rent, Groceries)"
                     styleClass="modern-combo">
               <items>
                     <FXCollections fx:factory="observableArrayList">
                        <String fx:value="Rent/Mortgage"/>
                        <String fx:value="Car Payment"/>
                        <String fx:value="Dining Out"/>
                        <String fx:value="Fun Money"/>
                        <String fx:value="Other"/>
                     </FXCollections>
               </items>
            </ComboBox>

            <Button text="Save Expense"
                     onAction="#addInputExpense"
                     styleClass="add-button-expense"/>
         </VBox>
                  
         <VBox spacing="12" VBox.vgrow="ALWAYS">
            <Label text="Current Expenses" styleClass="section-title"/>
            <ScrollPane styleClass="list-scroll" VBox.vgrow="ALWAYS" prefHeight="400" fitToHeight="true" fitToWidth="true">
               <ListView fx:id="expenseList" styleClass="modern-list"/>
            </ScrollPane>
         </VBox>
         
      </VBox>
      <padding>
         <Insets bottom="25" left="25" right="25" top="25"/>
      </padding>
   </right>

   <center>
      <VBox alignment="TOP_CENTER" spacing="30" styleClass="center-summary-panel">
         <BorderPane.margin>
            <Insets top="10" right="20" bottom="20" left="20"/>
         </BorderPane.margin>
         
         <VBox fx:id="summaryCard" alignment="CENTER" spacing="20" styleClass="budget-summary-card">
            <Label text="Monthly Budget Overview" styleClass="card-heading"/>
            <HBox alignment="CENTER" spacing="50">
               <VBox alignment="CENTER" spacing="8" styleClass="summary-metric">
                  <Label text="Total Income" styleClass="metric-label"/>
                  <Label fx:id="totalIncomeLabel" styleClass="income-large"/>
               </VBox>
               <VBox alignment="CENTER" spacing="8" styleClass="summary-metric">
                  <Label text="Total Expenses" styleClass="metric-label"/>
                  <Label fx:id="totalExpenseLabel" styleClass="expense-large"/>
               </VBox>
               <VBox alignment="CENTER" spacing="8" styleClass="summary-metric">
                  <Label text="Net Balance" styleClass="metric-label"/>
                  <Label fx:id="netLabel" styleClass="net-large"/>
               </VBox>
            </HBox>
         </VBox>
         
         <Region VBox.vgrow="SOMETIMES"/>
         
         <VBox spacing="20" styleClass="missions-card" VBox.vgrow="ALWAYS">
            <Label text="Financial Goals and Rewards" styleClass="card-heading"/>
            
            <VBox spacing="18" VBox.vgrow="ALWAYS">
               <HBox spacing="20" alignment="CENTER_LEFT" styleClass="mission-row">
                  <VBox spacing="4" HBox.hgrow="ALWAYS">
                     <Label fx:id="missionDaily" styleClass="mission-text"/>
                     <Label text="Track your daily spending habits" styleClass="mission-subtitle"/>
                  </VBox>
                  <Button fx:id="dailyRewardButton" text="Claim Rewards" onAction="#dailyRewards" styleClass="reward-button"/>
               </HBox>
               
               <HBox spacing="20" alignment="CENTER_LEFT" styleClass="mission-row">
                  <VBox spacing="4" HBox.hgrow="ALWAYS">
                     <Label fx:id="missionWeekly" styleClass="mission-text"/>
                     <Label text="Find smart alternatives to reduce expenses" styleClass="mission-subtitle"/>
                  </VBox>
                  <Button fx:id="weeklyRewardButton" text="Claim Rewards" onAction="#weeklyRewards" styleClass="reward-button"/>
               </HBox>
               
               <HBox spacing="20" alignment="CENTER_LEFT" styleClass="mission-row">
                  <VBox spacing="4" HBox.hgrow="ALWAYS">
                     <Label fx:id="missionMonthly" styleClass="mission-text"/>
                     <Label text="Achieve long-term financial and health goals" styleClass="mission-subtitle"/>
                  </VBox>
                  <Button fx:id="monthlyRewardButton" text="Claim Rewards" onAction="#monthlyRewards" styleClass="reward-button"/>
               </HBox>
            </VBox>
         </VBox>
         
      </VBox>
      <padding>
         <Insets bottom="25" left="10" right="10" top="25"/>
      </padding>
   </center>

</BorderPane>